@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --edge-path-stroke: black;
    --background: 0 0% 100%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 262.1 83.3% 57.8%;
    --primary-foreground: 210 20% 98%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 220 14.3% 95.9%;
    --accent-foreground: 220.9 39.3% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 20% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 262.1 83.3% 57.8%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 263.4 70% 50.4%;
    --primary-foreground: 210 20% 98%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 263.4 70% 50.4%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer components {
  .gradient:before {
    content: "";
    position: absolute;
    height: calc(100% * 3.41421356237);
    /* padding-bottom: calc(100% * 1.41421356237); */
    width: calc(100% * 3.41421356237);
    background: conic-gradient(
      from -160deg at 50% 50%,
      #e92a67 0deg,
      #a853ba 120deg,
      #2a8af6 240deg,
      #e92a67 360deg
    );
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    border-radius: 100%;
    z-index: -1;
  }

  .react-flow__node.selected .gradient:before {
    content: "";
    background: conic-gradient(
      from -160deg at 50% 50%,
      #e92a67 0deg,
      #a853ba 120deg,
      #2a8af6 240deg,
      rgba(42, 138, 246, 0) 360deg
    );
    animation: spinner 4s linear infinite;
    transform: translate(-50%, -50%) rotate(0deg);
    z-index: -1;
  }

  @keyframes spinner {
    100% {
      transform: translate(-50%, -50%) rotate(-360deg);
    }
  }
}

.react-flow__edge-path {
  @apply !stroke-[var(--edge-path-stroke)] dark:!stroke-white;
}

.react-flow__handle-left,
.react-flow__handle-right {
  @apply !h-4 !w-2;
}

.react-flow__handle-top {
  @apply !h-4 !w-4;
}

.react-flow__handle-bottom {
  @apply !h-4 !w-4;
}
.react-flow__handle-bottom{
  bottom: -8px !important
}
.react-flow__handle-top{
top: -8px !important
}

.react-flow__handle {
  @apply !rounded-none !bg-primary;
}

.react-flow__arrowhead polyline {
  @apply !stroke-[var(--edge-path-stroke)] dark:!stroke-white dark:!fill-white;
}

.react-flow__edge.selected .react-flow__edge-path {
  @apply !stroke-orange-400;
}

.nodebutton {
  width: 45px;
  height: 45px;
  background: white;
  cursor: pointer;
  border-radius: 20%;
  font-size: 12px;
  padding: 0px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 0px;
  color:#6039DB;
  border:1px solid rgb(212, 204, 204);
}


.edgebutton {
  width: 25px;
  height: 25px;
  background: white;
  cursor: pointer;
  border-radius: 20%;
  font-size: 12px;
  padding: 0px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 0px;
  color:#6039DB;
  border:1px solid rgb(212, 204, 204);
}

.edgebutton:hover {
  color: black;
}


.ruleGroup {
  display: flex;
  flex-direction: column;
  row-gap: 0.5rem;
  padding: 0.5rem;
}
.ruleGroup .ruleGroup-body {
  display: flex;
  flex-direction: column;
  row-gap: 0.5rem;
}
.ruleGroup .ruleGroup-body:empty {
  display: none;
}
.ruleGroup .ruleGroup-header,
.ruleGroup .rule {
  display: flex;
  flex-wrap: wrap;
  
  column-gap: 0.5rem;
  row-gap: 0.5rem;
  align-items: center;
}

[data-inlinecombinators='disabled'] .dndOver.rule,
[data-inlinecombinators='disabled'] .dndOver.ruleGroup-header {
  border-bottom-width: 2px;
  border-bottom-style: dashed;
  border-bottom-color: rebeccapurple;
  padding-bottom: 0.5rem;
}

[data-inlinecombinators='enabled'] .dndOver.rule:last-child,
[data-inlinecombinators='enabled'] .dndOver.ruleGroup-header,
[data-inlinecombinators='enabled'] .dndOver.rule + .betweenRules,
[data-inlinecombinators='enabled'] .dndOver.betweenRules {
  border-bottom-width: 2px;
  border-bottom-style: dashed;
  border-bottom-color: rebeccapurple;
  padding-bottom: 0.5rem;
}

.ruleGroup.dndDragging,
.rule.dndDragging {
  opacity: 0.5;
}
.ruleGroup .queryBuilder-dragHandle,
.rule .queryBuilder-dragHandle {
  cursor: move;
}

[data-dnd='disabled'] .queryBuilder-dragHandle {
  display: none;
}
